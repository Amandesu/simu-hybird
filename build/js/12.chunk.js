(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/modules/ticketManage/routers/creditSetting/index.less":function(e,t,n){(e.exports=n("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,".ticketManage-creditSetting {\n  height: 100vh;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.ticketManage-creditSetting > .content {\n  overflow: scroll;\n  -ms-flex: 1 1;\n  flex: 1 1;\n  -webkit-overflow-scrolling: touch;\n}\n\n.ticketManage-creditSetting > .content::-webkit-scrollbar {\n  display: none;\n}\n\n.ticketManage-creditSetting > .content .qrcode .am-input-label {\n  color: #000 !important;\n}\n\n.ticketManage-creditSetting > .content .am-list-extra,\n.ticketManage-creditSetting > .content .am-input-label,\n.ticketManage-creditSetting > .content .am-list-content,\n.ticketManage-creditSetting > .content input,\n.ticketManage-creditSetting > .content .fake-input-placeholder {\n  font-size: 0.14rem;\n}\n\n.ticketManage-creditSetting > .content .am-list-item .am-input-control input {\n  text-align: right;\n}\n\n.ticketManage-creditSetting > .content .imagesList .am-flexbox {\n  padding-bottom: 0.15rem;\n}\n\n.ticketManage-creditSetting > .footer {\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  height: 0.48rem;\n  line-height: 0.48rem;\n  background: #10A1F1;\n  color: #FFF;\n  font-size: 0.16rem;\n  text-align: center;\n}\n\n.ticketManage-creditSetting > .footer.disabled {\n  background: #E5E5E5;\n}",""])},"./src/modules/ticketManage/routers/creditSetting/index.js":function(e,t,n){"use strict";var a=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("./node_modules/antd-mobile/lib/modal/style/index.js");var i=a(n("./node_modules/antd-mobile/lib/modal/index.js"));n("./node_modules/antd-mobile/lib/image-picker/style/index.js");var o=a(n("./node_modules/antd-mobile/lib/image-picker/index.js"));n("./node_modules/antd-mobile/lib/input-item/style/index.js");var s=a(n("./node_modules/antd-mobile/lib/input-item/index.js")),d=a(n("./node_modules/@babel/runtime/helpers/objectSpread.js"));n("./node_modules/antd-mobile/lib/toast/style/index.js");var r=a(n("./node_modules/antd-mobile/lib/toast/index.js")),c=a(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),u=a(n("./node_modules/@babel/runtime/helpers/createClass.js")),m=a(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=a(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=a(n("./node_modules/@babel/runtime/helpers/inherits.js")),g=a(n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),h=a(n("./node_modules/@babel/runtime/helpers/defineProperty.js"));n("./node_modules/antd-mobile/lib/list/style/index.js");var l,y=a(n("./node_modules/antd-mobile/lib/list/index.js")),b=a(n("./node_modules/react/index.js")),j=n("./node_modules/redux/es/redux.js"),x=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/react-helmet/lib/Helmet.js"),k=n("./src/utils/index.js");n("./src/modules/ticketManage/routers/creditSetting/index.less");var v=y.default.Item,S=(0,x.connect)(function(e){return{CreditSetting:e.TicketManage_CreditSetting}},function(e){return(0,j.bindActionCreators)({changeData:function(e){return{type:"TICKETMANAGE_CREDITSETTING _CHANGE",payload:e}}},e)})(l=function(e){function l(){var e,a;(0,c.default)(this,l);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a=(0,m.default)(this,(e=(0,f.default)(l)).call.apply(e,[this].concat(n))),(0,h.default)((0,g.default)((0,g.default)(a)),"state",{}),(0,h.default)((0,g.default)((0,g.default)(a)),"onChange",function(e,t,n){a.changePayInfo({files:e})}),a}return(0,p.default)(l,e),(0,u.default)(l,[{key:"componentDidMount",value:function(){this.queryPayInfo()}},{key:"queryPayInfo",value:function(){var n=this;(0,k.callApi)({url:"/simu/wechat/queryPayInfo",type:"POST",data:{openId:"wenpeng"}}).then(function(e){var t=e.data||{};n.props.changeData({payinfo:{alipayName:t.alipayName,alipayNo:t.alipayNo,files:[{url:"https://zos.alipayobjects.com/rmsportal/hqQWgTXdrlmVVYi.jpeg",id:"2122"}]}})})}},{key:"saveOrUpdatePayInfo",value:function(){var t=this,e=(this.state,this.props.CreditSetting.payinfo);(0,k.callApi)({url:"/simu/wechat/saveOrUpdatePayInfo?openId=".concat("wenpeng","&alipayNo=",e.alipayNo,"&alipayName=").concat(e.alipayName),type:"POST",dataType:"formData",data:{file:e.files[0].url}}).then(function(e){1==e.data.ret&&(r.default.success("保存成功",2),t.queryPayInfo())})}},{key:"changePayInfo",value:function(e){var t=this.props.CreditSetting.payinfo;this.props.changeData({payinfo:(0,d.default)({},t,e)})}},{key:"render",value:function(){var t=this,n=(this.state,this.props.CreditSetting.payinfo),a=!n.alipayName||!n.alipayNo||!n.files.length;return b.default.createElement("div",{className:"ticketManage-creditSetting"},b.default.createElement(_.Helmet,null,b.default.createElement("title",null,"收款账户设置")),b.default.createElement("div",{className:"content"},b.default.createElement(y.default,null,b.default.createElement(v,{extra:"支付宝"},"收款类型"),b.default.createElement(s.default,{clear:!0,placeholder:"请填写支付宝账号真实姓名",value:n.alipayName,onChange:function(e){return t.changePayInfo({alipayName:e})}},"姓名"),b.default.createElement(s.default,{clear:!0,placeholder:"请填写支付宝账号手机账号",type:"money",value:n.alipayNo,onChange:function(e){return t.changePayInfo({alipayNo:e})}},"手机号码"),b.default.createElement(s.default,{clear:!0,placeholder:"上传支付宝的本人收款二维码",disabled:!0,className:"qrcode"},"上传二维码"),b.default.createElement("div",{className:"imagesList"},b.default.createElement(o.default,{files:n.files,onChange:this.onChange,onImageClick:function(e,t){},onAddImageClick:function(){},selectable:n.files.length<1,accept:"image/gif,image/jpeg,image/jpg,image/png"})))),b.default.createElement("div",{className:"footer ".concat(a?"disabled":""),onClick:function(){if(a){var e="请填完所有信息";n.alipayName?n.alipayNo?n.files.length||(e="请输入上传二维码"):e="请输入手机号码":e="请输入真实姓名",r.default.info(e,1)}else i.default.alert("提示","请确保您的收款信息是正确的（如果由于个人的收款信息填写错误造成的损失，本人自行负责）",[{text:"取消",onPress:function(){}},{text:"确定",onPress:function(){return t.saveOrUpdatePayInfo()}}])}},"确认提交"))}}]),l}(b.default.Component))||l;t.default=S},"./src/modules/ticketManage/routers/creditSetting/index.less":function(t,e,n){var a=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/modules/ticketManage/routers/creditSetting/index.less");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0},l=n("./node_modules/style-loader/lib/addStyles.js")(a,i);a.locals&&(t.exports=a.locals),t.hot.accept("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/modules/ticketManage/routers/creditSetting/index.less",function(){var e=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/modules/ticketManage/routers/creditSetting/index.less");if("string"==typeof e&&(e=[[t.i,e,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");l(e)}),t.hot.dispose(function(){l()})}}]);